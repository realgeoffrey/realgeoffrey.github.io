<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="icon" type="image/png" href="../../../favicon.png">
    <title>Mock</title>
    <script>
        /* 兼容不支持console.log到alert*/
        if (typeof console === "undefined" || console === null || typeof console.log !== "function") {
            console = {};
            console.log = function (msg) {
                alert(msg);
            };
        }
    </script>
</head>
<body>

<script type="text/javascript" src="../../../js/jquery.min.3.2.1.js"></script>
<!--<script type="text/javascript" src="../../../js/zepto.min.1.2.0.js"></script>-->
<script type="text/javascript" src="../../../js/mock-min.js"></script>

<script>
    var globalUrl = {
        url1: 'ur1'
    };
</script>
<script type="text/javascript">
    Mock.mock(new RegExp(globalUrl.url1), {
        'code': 200,
        'result': {
            '数字': '@integer(1,100)',
            '名字': '@ctitle(1,11)',
            '描述': '@cparagraph(10,100)',
            '图片': '@dataImage()',
            '数组|10-20': [{
                'id': '@increment(1)',
                '网址': '@url()',
                '时间': '@datetime("yyyy-MM-dd HH:mm:ss")',
                '时间戳': '@datetime("T")',
                '指定内容选择一个|1': [
                    'first',
                    'second',
                    'third',
                    'fourth'
                ]
            }],
            '相对路径2': {
                '相对路径1': {
                    'Path1': '绝对路径：@/result/数字 （不能进入数组中）',
                    'Path2': '相对路径：@../../数字 （不能进入数组中；相对路径实现有问题……）'
                }
            },
            '方法': function () {
                return '只能取到父级的this：' + this.数字 + '（手动微笑）';
            }
        }
    });
</script>
<script>
    /* jQuery*/
    $.ajax({
        url: globalUrl.url1,
        dataType: 'json',
        data: {}
    }).done(function (data) {
        console.log(data);
    }).fail(function () {
        console.log('fail');
    }).always(function () {
        console.log('always');
    });

    /* Zepto*/
    $.ajax({
        url: globalUrl.url1,
        dataType: 'json',
        data: {},
        success: function (data) {
            console.log(data);
        },
        error: function () {
            console.log('error');
        },
        complete: function () {
            console.log('complete');
        }
    });
</script>
</body>
</html>