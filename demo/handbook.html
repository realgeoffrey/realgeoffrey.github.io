<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="format-detection" content="telephone=no,email=no,address=no">
    <!--<link rel="dns-prefetch" href="">-->
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="shortcut icon" type="image/ico" href="favicon.ico">
    <title>生物图鉴</title>
    <link href="css/reset.css" type="text/css" rel="stylesheet">
    <link href="css/index.css" type="text/css" rel="stylesheet">
    <link href="css/jquery.fullpage.min.css" type="text/css" rel="stylesheet">
</head>
<body>

<div id="j-fullpage-handbook">
    <div class="section" data-anchor="egret">
        <div class="handbook_bg j-handbook-bg"></div>
        <a href="#" class="iconfont handbook_close j-handbook-close">&#xe60b;</a>
        <div class="handbook_left j-handbook-left">
            <div class="handbook_title j-handbook-title">
                <h1>白鹭</h1>
                <h2>Little Egret</h2>
                <h3>
                    CICONIIFORMES
                    Ardeidae
                    Egretta garzetta
                </h3>
            </div>
            <div class="iconfont handbook_hr">&#xe610;</div>
            <dl class="handbook_info">
                <dt>鹈形目 / 鹭科</dt>
                <dt>体色：洁白</dt>
                <dt>虹膜色：黄</dt>
                <dt>喙色：黑</dt>
                <dt>腿色：黑</dt>
                <dt>脚趾色：黄绿</dt>
                <dt>体长：55-60cm</dt>
                <dt>重量：320-650g</dt>
                <dt>结构：枕部着生两条狭长而软的矛状羽枕部着生两条狭长而软的矛状羽枕部着生两条狭长而软的矛状羽枕部着生两条狭长而软的矛状羽</dt>
                <dd></dd>
                <dt>留居类型：夏候鸟，冬候鸟，旅鸟</dt>
                <dt>种群数量：5万只</dt>
                <dt>区域分布：长江以南长江以南长江以南长江以南长江以南长江以南长江以南长江以南长江以南长江以南长江以南长江以南</dt>
                <dt>寿命：23年</dt>
                <dt>生活习性：常栖息于稻田、沼泽、池塘间</dt>
                <dt>食物：鱼、蛙、虾、软体动物</dt>
                <dd></dd>
                <dt>保护级别：二级</dt>
                <dt>濒危级别：濒危（EN）</dt>
            </dl>
        </div>
        <div class="handbook_right j-handbook-right">
            体态纤瘦的小型白色鹭类，全身洁白，亦有灰色型个体，繁殖期时枕部有两条带状长羽，垂在头后，宛若双辫，遇风时飘在空中，甚是醒目。肩及背间着生蓑羽，背上蓑羽松散延长至尾端。繁殖期结束后“辫子”消失。与大白鹭和中白鹭相比体型较小，与黄嘴白鹭的区别在于喙黑色。
        </div>

        <div class="slide" data-anchor="1">
            <div class="handbook" style="background-image: url(images/handbook/egret_1.jpg);"></div>
        </div>
        <div class="slide" data-anchor="2">
            <div class="handbook" style="background-image: url(images/handbook/egret_2.jpg);"></div>
        </div>
        <div class="slide" data-anchor="3">
            <div class="handbook" style="background-image: url(images/handbook/egret_3.jpg);"></div>
        </div>
        <div class="slide" data-anchor="4">
            <div class="handbook" style="background-image: url(images/handbook/egret_4.jpg);"></div>
        </div>
        <div class="slide" data-anchor="5">
            <div class="handbook" style="background-image: url(images/handbook/egret_5.jpg);"></div>
        </div>
        <div class="slide" data-anchor="6">
            <div class="handbook" style="background-image: url(images/handbook/egret_6.jpg);"></div>
        </div>
        <div class="slide" data-anchor="7">
            <div class="handbook" style="background-image: url(images/handbook/egret_7.jpg);"></div>
        </div>
    </div>
    <div class="section" data-anchor="section2">
        <div class="slide" data-anchor="1">
            <div class="handbook" style="background-image: url(images/handbook/egret_7.jpg);"></div>
        </div>
        <div class="slide" data-anchor="2">
            <div class="handbook" style="background-image: url(images/handbook/egret_7.jpg);"></div>
        </div>
    </div>

    <div class="section" data-anchor="loading" id="j-loading-in">
        <div class="handbook_loading"></div>
    </div>
</div>

<div class="hb_loading" id="j-loading-out"></div>

<script type="text/javascript" src="js/jquery-2.2.4.min.js"></script>
<script type="text/javascript" src="js/fastclick.min.js"></script>
<script type="text/javascript" src="js/jquery.fullpage.min.js"></script>
<script type="text/javascript" src="js/baiduTemplate.min.js"></script>

<script type="text/javascript-x-tmpl" id="j-sectionTmpl">
    <div class="section" data-anchor="section3">
        <div class="slide" data-anchor="1">
            <div class="handbook" style="background-image: url(images/handbook/egret_7.jpg);"></div>
        </div>
        <div class="slide" data-anchor="2">
            <div class="handbook" style="background-image: url(images/handbook/egret_7.jpg);"></div>
        </div>
    </div>
</script>

<a href="#" id="j-1" style="position: fixed;top: 0;left:0;color: #000;background: #fff;">$.fn.fullpage.destroy();</a>
<a href="#" id="j-2" style="position: fixed;top: 20px;left:0;color: #000;background: #fff;">$.fn.fullpage.destroy('all');</a>
<a href="#" id="j-3" style="position: fixed;top: 40px;left:0;color: #000;background: #fff;">$.fn.fullpage.reBuild();</a>
<a href="#" id="j-4" style="position: fixed;top: 60px;left:0;color: #000;background: #fff;">$('#j-fullpage-handbook').fullpage({});</a>
<a href="#" id="j-5" style="position: fixed;top: 80px;left:0;color: #000;background: #fff;">$('#j-fullpage-handbook').append();</a>

<script type="text/javascript">
    var section = baidu.template('j-sectionTmpl', {});
    var $fullpage = $('#j-fullpage-handbook');
    var $loadingIn = $('#j-loading-in');
    var $loadingOut = $('#j-loading-out');


    function hbInit() {
        var myself = arguments.callee;

        /* 单页滚动*/
        $('#j-fullpage-handbook').fullpage({
//            lockAnchors: true,
            recordHistory: false,
            afterLoad: function (anchorLink, index) {
                if (anchorLink === 'loading') {
                    console.log(anchorLink);

                    $.fn.fullpage.destroy('all');
                    $loadingIn.before(section);

                    $loadingOut.show();
                    $.fn.fullpage.setAllowScrolling(false);
                    $.fn.fullpage.setKeyboardScrolling(false);

                    window.location.hash = '#egret';
                    myself();
                    $.fn.fullpage.silentMoveTo('egret');
                    $loadingOut.fadeOut();
                }
            }
        });
    }

    $(function () {
        /* fastclick*/
        FastClick.attach(document.body);

        hbInit();

        /* 展示名字*/
        $(document).on('mouseenter click', '.j-handbook-title', function () {
            $(this).find('h3').stop().slideDown();
        }).on('mouseleave', '.j-handbook-title', function () {
            $(this).find('h3').stop().slideUp();
        });

        /* 打开文字*/
        $(document).on('mouseenter', '.j-handbook-left', function () {
            $(this).closest('.section').addClass('fade_in');
        }).on('mouseleave', '.j-handbook-left', function () {
            var $section = $(this).closest('.section');

            $section.removeClass('fade_in');
            $section.find('.j-handbook-close').fadeOut();
        }).on('click', '.j-handbook-bg, .j-handbook-left, .j-handbook-right', function () {
            var $section = $(this).closest('.section');

            $section.addClass('fade_in');
            $section.find('.j-handbook-close').fadeIn();
        }).on('click', '.j-handbook-close', function () {
            var $section = $(this).closest('.section');

            $section.removeClass('fade_in');
            $section.find('.j-handbook-close').fadeOut();

            return false;
        });

        $(document).on('click', '#j-1', function () {

            //destroy any plugin event (scrolls, hashchange in the URL...)
            $.fn.fullpage.destroy();

            return false;
        });
        $(document).on('click', '#j-2', function () {

            //destroy any plugin event and any plugin modification done over your original HTML markup.
            $.fn.fullpage.destroy('all');

            return false;
        });
        $(document).on('click', '#j-3', function () {
            $.fn.fullpage.reBuild();

            return false;
        });
        $(document).on('click', '#j-4', function () {
            $('#j-fullpage-handbook').fullpage({});

            return false;
        });
        $(document).on('click', '#j-5', function () {
            $('#j-fullpage-handbook').append(section);

            return false;
        });
    });
</script>
</body>
</html>